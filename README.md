# makefile-playground

### Basic Syntax
```shell
target: prerequisite
<TAB> recipe
```
Make carries out the recipe on the prerequisite to create or update the target.

- Target: A target is usually the name of a file that generated by a program. A target can also ba a name of an action to carry out, such as 'clean'
- Prerequisite: A prerequisite is a file that is used as input to create the target. A target often depends on several files.
- Recipe: A recipe is an action that make carries out.
- Phony: .PHONY helps to run targets that are not files when they are listed in dependency list.
- Default_goal: Make always starts with first target. It can be changed using .DEFAULT_GOAL

### What Makefile contains:
Makefiles contain five kind of things: explicit rules, implicit rules, variable definition, directives, and comments.

- Explicit Rule: Define when and how to remake one or more files.

- Implicit Rule: Define when and how to remake a class of files based on their names.

- Variable definition: A variable definition is a line that species a text string value for a variable that can be substituted into the text letter.

- Directive: A directive is an instruction for make to do something special while reading the makefile.

- Comments: # is used for making comment.

### Difference types of assignment in Makefile
- Simple Assignment (:=): A simple assignment expression is evaluated only once, at the very first occurrence. 
For example, CC := ${GCC} ${FLAGS} during the first encounter is evaluated to gcc -W then each time ${CC} occurs it will be replaced with gcc -W

- Recursive Assignment (=): A recursive assignment is evaluated everytime the variable is encountered in the code. For example a statement like CC = ${GCC} will be evaluated only when an action like ${CC} file.c is executed. However, if the variable GCC is reassigned i.e GCC=c++ then the ${CC} will be converted to c++ after the reassignment.

- Conditional Assignment (?=): Conditional assignment assigns a value to a variable only if it does not have a value.

- Appending (+=): Assume that CC = gcc then the appending operator is used like CC += -W then CC now has the value gg -W

Ref: [StackOverflow answer](https://stackoverflow.com/questions/4879592/whats-the-difference-between-and-in-makefile)

### Automatic variable and wildcard
Both * and % are called wildcards in Make, but they mean entirely different things.
- `*` Wildcard: * search your filesystem for matching filenames.

- `%` Wildcard: In matching mode, it matches one or more characters in a string. In replacing mode, it takes the stem that was matched and replaces that in a string.

Ref: [makefile tutorial](https://makefiletutorial.com/#automatic-variables-and-wildcards)

### Function call syntax
```shell
$(function arguments) 
or,
${function arguments}
```



Tutorials:
- [Makefile tutorial](https://makefiletutorial.com/)
- [gnu.org book](https://www.gnu.org/software/make/manual/html_node/)
